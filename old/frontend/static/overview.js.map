{"version":3,"file":"overview.js","mappings":";;;;;;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ,cAAc,UAAU;AAClE;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,kCAAkC,QAAQ,cAAc,UAAU,UAAU,UAAU;AACtF;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,mCAAmC,QAAQ,OAAO,UAAU,WAAW,UAAU;AACjF;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mCAAmC,QAAQ,OAAO,UAAU,WAAW,UAAU,GAAG,WAAW;AAC/F;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,QAAQ,OAAO,UAAU;AAC5D;AACA,eAAe,uCAAuC;AACtD;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mCAAmC,QAAQ,OAAO,UAAU,WAAW,UAAU,GAAG,WAAW;AAC/F;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE2C;;;;;;;;;;;;;;;;AC9F3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,mBAAmB,GAAG,iBAAiB;;AAE1E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,cAAc;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE0B;;;;;;;UC9I1B;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACFe;;AAII;;AAEnB;;AAEA,eAAe,8CAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAAS,4CAAO,CAAC,sBAAsB,OAAO;AAC9C;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kCAAkC;AACnE;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,gCAAgC,SAAI;AACpC,eAAe;;AAEf,CAAC,kDAAiB;AAClB;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAAyB;AAC1B;AACA;AACA,0DAA0D,UAAU;AACpE,EAAE,oDAAmB;AACrB,EAAE;AACF,gBAAgB,mBAAmB;AACnC,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,wBAAwB;AACtC,gBAAgB,mBAAmB;AACnC;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE,oDAAmB;AACrB;;AAEA;AACA;AACA,EAAE,sDAAqB;AACvB,EAAE,sDAAqB;AACvB;AACA","sources":["webpack://frontend/./src/api.js","webpack://frontend/./src/display.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/./src/overview.js"],"sourcesContent":["const API_URL = \"http://localhost:9000\"\n\nconst lesson =\n{\n\tcreate: async function (data, course_id) \n\t{\n\t\tconst response = await fetch(`${API_URL}/api/course/${course_id}/lesson`,\n\t\t{\n\t\t\tmethod : 'POST',\n\t\t\theaders : {'Content-Type' : 'application/json'},\n\t\t\tcredentials: \"include\",\n\t\t\tbody: JSON.stringify(data)\n\t\t})\n\t\tif (response.ok)\n\t\t\treturn response.json()\n\t\tthrow Error(\"Server request failed.\")\n\t},\n\tdelete: async function (course_id, lesson_id)\n\t{\n\t\tconst response = await fetch(`${API_URL}/api/course/${course_id}/lesson/${lesson_id}`, {\n\t\t\tmethod : 'DELETE',\n\t\t\tcredentials: \"include\"\n\t\t})\n\t\tif (response.ok)\n\t\t\treturn response.json()\n\t\tthrow Error(\"Server request failed.\")\n\t},\n\tsection: \n\t{\n\t\tcreate: async function (data, course_id, lesson_id)\n\t\t{\n\t\t\tconst response = await fetch(`${API_URL}/api/${course_id}/section/${lesson_id}`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders : {\"Content-Type\" : \"application/json\"},\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tbody: JSON.stringify(data)\n\t\t\t})\n\t\t\tif (response.ok)\n\t\t\t\treturn response.json()\n\t\t\tthrow Error(\"Server request failed.\")\n\t\t},\n\t\tdelete: async function (data, course_id, lesson_id, section_id)\n\t\t{\n\t\t\tconst response = await fetch(`${API_URL}/api/${course_id}/section/${lesson_id}/${section_id}`, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\tcredentials: \"include\"\n\t\t\t})\n\t\t\tif (response.ok)\n\t\t\t\treturn response.json()\n\t\t\tthrow Error(\"Server request failed.\")\n\t\t}\n\t}\n}\n\nconst material =\n{\n\ttextbook :\n\t{\n\t\tcreate: async function (data, course_id) \n\t\t{\n\t\t\tconst response = await fetch(`${API_URL}/api/${course_id}/textbook`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders : {\"Content-Type\" : \"multipart/form-data\"},\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tbody: data\n\t\t\t})\n\t\t\tif (response.ok)\n\t\t\t\treturn response.json()\n\t\t\tthrow Error(\"Server request failed.\")\n\t\t},\n\t\tdelete: async function (data, course_id)\n\t\t{\n\t\t\tconst response = await fetch(`${API_URL}/api/${course_id}/section/${lesson_id}/${section_id}`, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\tcredentials: \"include\"\n\t\t\t})\n\t\t\tif (response.ok)\n\t\t\t\treturn response.json()\n\t\t\tthrow Error(\"Server request failed.\")\n\t\t}\n\t}\n}\n\nconst course =\n{\n\tid : function () \n\t{\n\t\tURL = window.location.pathname\n\t\tURL = URL.split(\"/\")\n\t\tURL = URL[2]\n\t\treturn URL\n\t}\n}\n\nexport {lesson, material, course, API_URL};\n","const lesson =\n{\n\tcard : function (data, root, removeFunc=null, showForm = null, hide=false)\n\t{\n\t\tconst card = document.createElement(\"div\")\n\t\tcard.setAttribute(\"data-id\", data['id'])\n\n\t\tconst delete_lesson = document.createElement(\"button\")\n\t\tdelete_lesson.innerText = \"-\"\n\t\tdelete_lesson.addEventListener(\"click\", removeFunc)\n\t\tdelete_lesson.classList.add(\"delete_lesson\", \"edit\")\n\n\t\t// Find a less stupid way for this \n\t\tif (hide)\n\t\t\tdelete_lesson.classList.add(\"hide\");\n\n\t\tconst title  = document.createElement(\"h1\")\n\t\ttitle.innerText = data['title']\n\t\ttitle.className = \"lesson_title\"\n\t\t\n\t\tconst material = document.createElement(\"div\")\n\t\tmaterial.className = \"lesson_material\"\n\n\t\tfor (section of data['textbook_sections'])\n\t\t\tlesson.section.display(section, material);\n\n\t\tconst add_material = document.createElement(\"button\")\n\t\tadd_material.innerText = \"+\"\n\t\tadd_material.classList.add(\"edit\", \"lesson_add_material\")\n\t\tadd_material.addEventListener(\"click\", showForm) \n\n\t\t//if does NOT contain\n\t\tif (hide)\n\t\t\tadd_material.classList.add(\"hide\");\n\n\t\tconst questions = document.createElement(\"div\")\t\n\t\tquestions.className = \"lesson_questions\"\n\n\t\t\n\t\tconst question_stat = document.createElement(\"p\")\n\t\tquestion_stat.innerText = data['question_count']\t\n\t\tquestion_stat.className = \"lesson_stat_data\"\n\n\t\tconst lesson_question_image = document.createElement(\"img\")\n\t\tlesson_question_image.src = \"/static/question.svg\"\n\t\tlesson_question_image.className = \"lesson_stat_image\"\n\n\t\tconst lesson_words = document.createElement(\"div\")\n\t\tlesson_words.className = \"lesson_words\"\n\n\t\tconst words = data['notebook_words'] == null ? -1 : data['notebook_words']\n\t\tconst words_stat = document.createElement(\"p\")\t\n\t\twords_stat.innerText = words\n\t\twords_stat.className = \"lesson_stat_data\"\n\n\t\tconst words_image = document.createElement(\"img\")\n\t\twords_image.src = \"/static/question.svg\"\n\t\twords_image.className = \"lesson_stat_image\"\n\n\t\tconst stats = document.createElement(\"div\")\n\t\tstats.className = \"lesson_stats\"\n\n\t\tquestions.append(lesson_question_image, question_stat)\n\t\tlesson_words.append(words_image, words_stat)\n\t\tstats.append(questions, lesson_words)\n\t\tcard.append(delete_lesson, title, material, add_material, stats)\n\t\troot.append(card)\n\t},\n\tsection: \n\t{\n\t\ttextbook: function (data, element)\n\t\t{\n\t\tsection_img = document.createElement(\"img\")\t\n\t\tsection_img.src = \"/static/textbook.svg\"\n\t\tsection_img.className = \"section_img\"\n\n\t\tsection_text = document.createElement(\"div\")\n\t\tsection_text.className = \"section_text\"\n\n\t\tsection_title = document.createElement(\"h3\")\n\t\tsection_title.className = \"section_title\"\n\t\tsection_title.innerText = data['title']\n\n\t\tsection_pages = document.createElement(\"p\")\n\t\tsection_pages.className = \"section_pages\"\n\t\tsection_pages.innerText = `pg. ${data['start_page']}-${data['end_page']}`\n\n\t\tsection_text.append(section_title, section_pages)\n\t\troot.append(section_img, section_text)\n\t\t}\n\t}\n}\n\n/*\n * textbook\n *\tcard\n *\tlist (adds option to the selection element)\n */\n\nconst textbook = \n{\n\tcard: function(data, root, displaySettings)\n\t{\n\t\tconst card = document.createElement(\"div\")\n\t\tcard.className = \"card\"\n\t\tcard.setAttribute(\"data-id\", data['id'])\n\n\t\tconst image = document.createElement(\"img\")\n\t\timage.src = (data[\"filename\"] == null) ? \"/static/textbook_red.svg\" : \"/static/textbook.svg\"\n\n\t\tconst text = document.createElement(\"div\")\n\t\ttext.className = \"text\"\n\n\t\tconst title = document.createElement(\"h3\")\n\t\ttitle.className = \"title\"\n\t\ttitle.innerText = data[\"title\"]\n\n\t\tconst author = document.createElement(\"p\")\n\t\tauthor.className = \"author\"\n\t\tauthor.innerText = data[\"author\"]\n\n\t\tconst pages = document.createElement(\"p\")\n\t\tpages.className = \"pages\"\n\t\tpages.innerText = `${data[\"pages\"]}pg`\n\n\t\tconst settings = document.createElement(\"img\")\n\t\tsettings.className = \"settings\" \n\t\tsettings.addEventListener(\"click\", displaySettings)\n\n\t\ttext.append(title, author)\n\t\tcard.append(image, text, pages)\n\t\troot.append(card)\n\t},\n\tlist: function(data, root)\n\t{\n\t\tconst option = document.createElement(\"option\")\n\t\toption.value= data['id']\n\t\toption.innerText = data['title']\n\t\troot.append(option)\n\t}\n}\n\nexport {lesson, textbook};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {lesson as api_lesson, \n\tmaterial as api_textbook, \n\tcourse as api_course, \n\tAPI_URL} \nfrom \"./api.js\"\n\nimport {lesson as display_lesson, \n\ttextbook as display_textbook} \nfrom \"./display.js\"\n\n/* GLOBALS */\n\nconst COURSE = api_course.id()\nconst website = {\n\tmaterial : {\n\t\tdisplay : document.getElementById(\"materials\"),\n\t\tform : document.getElementById(\"material_form\"),\n\t\tsuccess: document.querySelector(\"#material_form .success\"),\n\t\tfailure: document.querySelector(\"#material_form .failure\"),\n\t\tselect : document.getElementById(\"material_select\"),\n\t\tempty : document.getElementById(\"materials_empty\"),\n\t\tcards : document.getElementById(\"material_cards\"),\n\t\tadd : document.getElementById(\"add_material\")\n\t},\n\tlesson : {\n\t\tdisplay : document.getElementById(\"lessons\"),\n\t\tempty : document.getElementById(\"lessons_empty\"),\n\t\tadd : document.getElementById(\"add_lesson\"),\n\t\tform : document.getElementById(\"material_section\"),\n\t\tcards : document.getElementById(\"lesson_cards\"),\n\t},\n\tmodify : document.getElementById(\"modify\"),\n\tdone : document.getElementById(\"done\"),\n\tdelete : document.getElementById(\"delete\"),\n\tfinish : document.getElementById(\"finish\"),\n\tcourse : {\n\t\ttitle : document.getElementById(\"course_title\"),\n\t\tcreated : document.getElementById(\"course_timestamp\"),\n\t\tdescription: document.querySelector(\"#course_description div\")\n\t},\n\tpopup : document.getElementsByClassName(\"pop_up\"),\n\tedit : document.getElementsByClassName(\"edit\")\n}\n\n/* Initialize Page */\n\ntoggleEdit() //Set to hide\ntogglePopUp() //Set to hide\n\nfetch(`${API_URL}/api/website/course/${COURSE}`,  {\n\tmethod: 'GET',\n\tcredentials: \"include\"})\n.then((response) =>\n{\n\tif (response.ok) {\n\t\treturn response.json()\t\t\n\t}\n})\n.then((data) =>\n{\n\tconst lessons = data['lessons']\n\tconst goals = data['goals']\n\tconst textbooks = data['textbooks']\n\tconst course = data['course']\n\tif ((lessons.length === 0) && (goals.length === 0) && (textbooks.length === 0))\n\t{\n\t\tmodify_button.click();\n\t}\n\t(lessons.length === 0) ? () => {lessons_empty.style.display = \"\"} : lessons_empty.style.display = \"none\"\n\tinitDisplay(data)\n})\n\n/* CRUD: Events */\n\nwebsite.lesson.add.addEventListener(\"submit\", (e) =>\n{\n\te.preventDefault()\n\tconst form_data = new FormData(this);\n\tconst data = {title : (form_data.get(\"title\") == \"\") ? \"Untitled\" : form_data.get(\"title\")}\n\n\tapi_lesson.create(data, COURSE)\n\t.then((response) => {\n\t\tconsole.log(response)\t\n\t})\n\t.catch((error) => {\n\t\tconsole.log(error)\n\t})\n})\n\nwebsite.lesson.form.addEventListener(\"submit\", (e) =>\n{\n\te.preventDefault();\n\tlesson_id = material_section.dataset.id\n\n\tvar form_data = new FormData(material_section)\n\tpayload = {\n\t\ttextbook_id : form_data.get('textbook'),\n\t\tlesson_id : lesson_id,\n\t\tstart_page : form_data.get('start_page'),\n\t\tend_page : form_data.get('end_page')\n\t}\n\t\n\tapi_lesson.section.create(payload, COURSE, lesson_id)\n\t.then((data) =>\n\t{\n\t\tlesson_material = document.querySelector(`div[data-id=${lesson_id}] .lesson_material`)\n\t\tdisplay_lesson.card(data, lesson_material, deleteLesson)\n\t})\n\t.catch((e) => {console.log(error)})\n})\n\n/* CRUD: Functions */\n\nfunction deleteLesson()\n{\n\tconst lesson_element = this.parentElement\n\tconst lesson_id = lesson.dataset.id\n\tlesson.delete(COURSE, lesson_id)\n\t.then(() => {lesson_element.remove()})\n\t.catch((e) => {console.log(error)})\n}\n\n/* LOGIC: Events */\n\nwebsite.done.addEventListener(\"click\", () =>\n{\n\tdocument.querySelector(\"#modify\").classList.remove(\"hide\")\n\ttoggleEdit()\n})\n\nwebsite.modify.addEventListener(\"click\", () =>\n{\n\twebsite.material.form.classList.remove(\"hide\")\n\twebsite.material.success.classList.add(\"hide\")\n\twebsite.material.success.classList.add(\"hide\")\n\twebsite.lesson.material_section.add(\"hide\")\n})\n\nwebsite.modify.addEventListener(\"click\", () =>\n{\n\twebsite.modify.classList.add(\"hide\")\n\ttoggleEdit()\n})\n\nwebsite.done.addEventListener(\"click\", () =>\n{\n\twebsite.modify.classList.remove(\"hide\")\n\ttoggleEdit()\n})\n\n/* LOGIC: Functions */\n\nfunction toggleEdit() {\n\tfor (const element of website.edit)\n\t\telement.classList.toggle(\"hide\");\n}\n\nfunction togglePopUp() {\n\tfor (const element of website.popup)\n\t\telement.classList.toggle(\"hide\");\n}\n\nfunction sectionShowForm()\n{\n\twebsite.lesson.form.setAttribute(\"data-id\",  this.parentElement.dataset.id)\n\twebsite.lesson.form.classList.remove(\"hide\")\n\twebsite.material.form.classList.add(\"hide\")\n}\n\nfunction initDisplay(data)\n{\n\twebsite.course.title.innerText = (data['course']['title'] == null) ? \"Untitled\" : data['course']['title']\n\twebsite.course.innerText =  data['course']['created']\n\twebsite.course.description.innerText = data['course']['description']\n\n\tfor (const element of data['lessons'])\n\t{\n\t\tdisplay_lesson.card(element, website.lesson.cards, deleteLesson, sectionShowForm, !website.modify.classList.contains(\"hide\"))\n\t}\n\n\tfor (const textbook of data['textbooks'])\n\t{\n\t\tdisplay_textbook.card(textbook, website.material.cards)\n\t\tdisplay_textbook.list(textbook, website.material.select)\n\t}\n}\n\n\n"],"names":[],"sourceRoot":""}